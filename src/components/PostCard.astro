---
interface Props {
  title: string;
  date: Date;
  slug: string;
  tags?: string[];
  summary: string;
  category?: string;
}

const { title, date, slug, tags, summary, category } = Astro.props;
---

<article
  class="w-xl border rounded-xl p-5 hover:bg-gray-950 transition-colors duration-200 ease-in-out"
  data-post
  data-category = {category?.toLowerCase()}
  data-title={title}
  data-tags={tags?.join(' ') ?? ''}
>
  <h3 class="text-2xl font-serif mb-2 font-semibold">
    <a href={`${import.meta.env.BASE_URL}/posts/${slug}`}>{title}</a>
  </h3>

  <p class="text-l text-gray-400">{summary}</p>

  <time class="text-sm text-gray-400">{date.toLocaleDateString("en-EN")}</time>

  {(tags || category) && (
    <ul class="flex gap-2 mt-2">
      {tags?.map(tag => (
        <li class="text-xs bg-gray-700 px-2 py-1 rounded">{tag}</li>
      ))}
      {category && (
        <li class="text-xs bg-gray-500 px-2 py-1 rounded">{category}</li>
      )}
    </ul>
  )}
</article>
